<div class="app-container">
  <h1 class="text-3xl font-bold mb-6 text-center text-blue-700">{{ title }}</h1>
  <div class="header-actions">
    <p-button
      (onClick)="openAddEventForm()"
      label="Добавить мероприятие"
      icon="pi pi-plus"
      styleClass="p-button-primary p-ripple"
      rippleEffect
    ></p-button>
  </div>
  <div class="event-list-container">
    <app-event-list
      [events]="events"
      (editEvent)="openEditEventForm($event)"
      (deleteEvent)="onEventDeleted($event)"
    ></app-event-list>
  </div>
  <p-dialog
    [(visible)]="displayEventForm"
    [modal]="true"
    [style]="{ width: '50vw' }"
    [breakpoints]="{'960px': '75vw', '640px': '90vw'}"
    [draggable]="false"
    [resizable]="false"
    (onHide)="closeEventForm()"
  >
    <ng-template pTemplate="header">
      <h3 class="text-xl font-semibold">
        {{ currentEvent() ? 'Редактировать мероприятие' : 'Добавить мероприятие' }}
      </h3>
    </ng-template>
    <app-event-form
      [event]="currentEvent()"
      [resetTrigger]="resetFormTrigger()"
      (eventSaved)="onEventSaved($event)"
      (cancel)="closeEventForm()"
    ></app-event-form>
  </p-dialog>
</div>
